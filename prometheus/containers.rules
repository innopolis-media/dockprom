ALERT Consul_Is_Down_Production
  IF absent(container_memory_usage_bytes{name="consul",job="cadvisor-prod"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT MicroApi_Is_Down_Production
  IF absent(container_memory_usage_bytes{name="hfm-micro-api",job="cadvisor-prod"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT MySql_Is_Down_Production
  IF absent(container_memory_usage_bytes{name="hfm-mysql",job="cadvisor-prod"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Rabbit_Is_Down_Production
  IF absent(container_memory_usage_bytes{name="hfm-rabbit",job="cadvisor-prod"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Redis_Is_Down_Production
  IF absent(container_memory_usage_bytes{name="hfm-redis",job="cadvisor-prod"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Mongo_Is_Down_Production
  IF absent(container_memory_usage_bytes{name="hfm-mongo",job="cadvisor-prod"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Site_Is_Down_Production
  IF absent(container_memory_usage_bytes{name="hfm-site",job="cadvisor-prod"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Median_Is_Down_Production
  IF absent(container_memory_usage_bytes{name="hfm-median",job="cadvisor-prod"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Admin_Is_Down_Production
  IF absent(container_memory_usage_bytes{name="hfm-admin",job="cadvisor-prod"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
  
  





ALERT Consul_Is_Down_Stage
  IF absent(container_memory_usage_bytes{name="consul",job="cadvisor-stage"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT MicroApi_Is_Down_Stage
  IF absent(container_memory_usage_bytes{name="hfm-micro-api",job="cadvisor-stage"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT MySql_Is_Down_Stage
  IF absent(container_memory_usage_bytes{name="hfm-mysql",job="cadvisor-stage"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Rabbit_Is_Down_Stage
  IF absent(container_memory_usage_bytes{name="hfm-rabbit",job="cadvisor-stage"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Redis_Is_Down_Stage
  IF absent(container_memory_usage_bytes{name="hfm-redis",job="cadvisor-stage"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Mongo_Is_Down_Stage
  IF absent(container_memory_usage_bytes{name="hfm-mongo",job="cadvisor-stage"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Site_Is_Down_Stage
  IF absent(container_memory_usage_bytes{name="hfm-site",job="cadvisor-stage"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Median_Is_Down_Stage
  IF absent(container_memory_usage_bytes{name="hfm-median",job="cadvisor-stage"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }
  
ALERT Admin_Is_Down_Stage
  IF absent(container_memory_usage_bytes{name="hfm-admin",job="cadvisor-stage"})
  FOR 30s
  LABELS { severity = "critical" }
  ANNOTATIONS {
    summary= "{{ $labels.name }} ({{ $labels.env }}) down",
    description= "{{ $labels.name }} on {{ $labels.env }} is down for more than 30s"
  }